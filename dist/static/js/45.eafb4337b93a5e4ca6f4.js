webpackJsonp([45],{iUDa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("vMJZ"),l=a("mvHQ"),n=a.n(l),s={props:["editdata","options"],data:function(){return{listLoading:!1,typedic:[{value:0,label:"目录"},{value:1,label:"菜单"},{value:2,label:"按钮"}]}},watch:{editdata:function(t){this.editdata=t,console.log("AddroleFrom赋值："+n()(this.editdata))}},methods:{handleChange:function(){alert(this.editdata.fid[this.editdata.fid.length-1])}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}]},[a("el-form",{ref:"form",attrs:{model:t.editdata,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.editdata.name,callback:function(e){t.$set(t.editdata,"name",e)},expression:"editdata.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"图标"}},[a("el-input",{model:{value:t.editdata.icon,callback:function(e){t.$set(t.editdata,"icon",e)},expression:"editdata.icon"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"父级"}},[a("el-cascader",{attrs:{options:t.options,props:{checkStrictly:!0,value:"id",label:"name"},clearable:""},on:{change:t.handleChange},model:{value:t.editdata.pid,callback:function(e){t.$set(t.editdata,"pid",e)},expression:"editdata.pid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"权限值"}},[a("el-input",{model:{value:t.editdata.value,callback:function(e){t.$set(t.editdata,"value",e)},expression:"editdata.value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editdata.type,callback:function(e){t.$set(t.editdata,"type",e)},expression:"editdata.type"}},t._l(t.typedic,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))])])}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"前端路径"}},[a("el-input",{model:{value:t.editdata.uri,callback:function(e){t.$set(t.editdata,"uri",e)},expression:"editdata.uri"}})],1),t._v(" "),t.editdata.id>0?a("el-form-item",{attrs:{label:"状态"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.editdata.status,callback:function(e){t.$set(t.editdata,"status",e)},expression:"editdata.status"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.editdata.sort,callback:function(e){t.$set(t.editdata,"sort",e)},expression:"editdata.sort"}})],1)],1)],1)},staticRenderFns:[]},o={components:{Addpermission:a("VU/8")(s,d,!1,null,null,null).exports},data:function(){return{list:[],editdata:null,typedic:{0:"目录",1:"菜单",2:"按钮"},dialogVisible:!1}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,Object(i.g)().then(function(e){t.listLoading=!1,t.list=e.data})},switchvaluechange:function(){},gettypestr:function(t){return this.typedic[t]},addroledialog:function(){this.editdata={},this.dialogVisible=!0},datadelete:function(t){var e=this;this.listLoading=!0,Object(i.f)(t.id).then(function(t){e.listLoading=!1,e.getList()})},dataedit:function(t){this.editdata=t,this.dialogVisible=!0},onSubmit:function(){var t=this,e=this.$refs.Addpermission.editdata;delete e.children,e.id?Object(i.h)(e.id,e).then(function(e){t.listLoading=!1,t.dialogVisible=!1,t.getList()}):Object(i.e)(this.$refs.Addpermission.editdata).then(function(e){t.listLoading=!1,t.dialogVisible=!1,t.getList()})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:t.addroledialog}})],1),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.list,"row-key":"id",size:"mini",border:"",stripe:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"权限名称",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.id+":"+e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"icon",align:"left",width:"52"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.icon))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"权限类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.gettypestr(e.row.type)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"前端资源路径",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.uri))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"权限值",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.value))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否禁用",align:"center",width:"52"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return t.switchvaluechange(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(a){return t.datadelete(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(a){return t.dataedit(e.row)}}})],1)]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增权限",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("Addpermission",{ref:"Addpermission",attrs:{editdata:t.editdata,options:t.list}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)],1)},staticRenderFns:[]},c=a("VU/8")(o,r,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=45.eafb4337b93a5e4ca6f4.js.map