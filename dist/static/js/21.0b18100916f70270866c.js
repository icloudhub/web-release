webpackJsonp([21],{Tb7T:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("2Xe1"),n={components:{Addtype:i("qK3Z").a},created:function(){this.configlistAll()},data:function(){return{typelist:null,listLoading:!1,asstypeVisible:!1,edittypedata:{}}},methods:{showtypeVisible:function(){this.edittypedata={},this.asstypeVisible=!0},onSubmit:function(){},configlistAll:function(){var t=this;this.listLoading=!0,Object(a.i)().then(function(e){t.listLoading=!1,t.typelist=e.data})},addstypesub:function(){var t=this;this.$refs.edittypedata.editdata.id?this.updatetypesub():(this.listLoading=!0,Object(a.h)(this.$refs.edittypedata.data).then(function(e){t.asstypeVisible=!1,t.listLoading=!1,t.configlistAll()}).catch(function(){t.listLoading=!1,t.$message("添加失败")}))},updatetypesub:function(){var t=this;this.listLoading=!0,Object(a.n)(this.$refs.edittypedata.data.id,this.$refs.edittypedata.editdata).then(function(e){t.asstypeVisible=!1,t.listLoading=!1,t.configlistAll()}).catch(function(){t.listLoading=!1,t.$message("添加失败")})},deleteType:function(t){var e=this;this.$confirm("删除类型将不能找回，类型相关的资源也将删除，是否确定删除","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.listLoading=!0,Object(a.k)(t.id).then(function(t){e.listLoading=!1,e.configlistAll()}).catch(function(t){e.listLoading=!1,e.$message("删除失败")})})},typeedit:function(t){this.edittypedata=t,this.asstypeVisible=!0}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[i("el-button",{staticStyle:{float:"right",margin:"4px"},attrs:{size:"small"},on:{click:t.showtypeVisible}},[t._v("新增")]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"productTable",staticStyle:{width:"100%"},attrs:{data:t.typelist,border:""}},[i("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.id))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.remark))])]}}])}),t._v(" "),i("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-button-group",[i("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(i){return t.typeedit(e.row)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(i){return t.deleteType(e.row)}}},[t._v("删除")])],1)],1)]}}])})],1)],1),t._v(" "),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{title:"配置资源类型",visible:t.asstypeVisible},on:{"update:visible":function(e){t.asstypeVisible=e}}},[i("Addtype",{ref:"edittypedata",attrs:{editdata:t.edittypedata}}),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.addstypesub}},[t._v("确定")]),t._v(" "),i("el-button",{on:{click:function(e){t.asstypeVisible=!1}}},[t._v("取消")])],1)],1)},staticRenderFns:[]};var l=i("VU/8")(n,s,!1,function(t){i("dr3e")},"data-v-15cab4aa",null);e.default=l.exports},dr3e:function(t,e){},qK3Z:function(t,e,i){"use strict";var a=i("mvHQ"),n=i.n(a),s={props:["editdata"],watch:{editdata:function(t){this.data=t?JSON.parse(n()(t)):{}}},data:function(){return{data:{},iseditid:!1}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"类型"}},[t.editdata.id?i("span",[t._v(t._s(t.editdata.id))]):i("el-input",{model:{value:t.data.id,callback:function(e){t.$set(t.data,"id",e)},expression:"data.id"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"标题"}},[i("el-input",{model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{model:{value:t.data.remark,callback:function(e){t.$set(t.data,"remark",e)},expression:"data.remark"}})],1)],1)],1)},staticRenderFns:[]},o=i("VU/8")(s,l,!1,null,null,null);e.a=o.exports}});
//# sourceMappingURL=21.0b18100916f70270866c.js.map